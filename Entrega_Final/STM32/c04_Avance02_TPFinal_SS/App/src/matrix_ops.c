/*******************************************************************************
* Title                 :   ------
* Filename              :   matrix_ops.c
* Author                :   Carlos Herrera Trujillo
* Origin Date           :   Jun 16, 2024
* Version               :   x.0.0
* Compiler              :   ------
* Target                :   STM32XXX
* Notes                 :   
*******************************************************************************/

/******************************************************************************
* Private Preprocessor Constants
*******************************************************************************/


/******************************************************************************
* Private Includes
*******************************************************************************/
#include "matrix_ops.h"

/******************************************************************************
* Private defines
*******************************************************************************/


/******************************************************************************
* Private Typedefs
*******************************************************************************/


/******************************************************************************
* Private Macros
*******************************************************************************/


/******************************************************************************
* Public Variables
*******************************************************************************/


/******************************************************************************
* Private Variables
*******************************************************************************/


/******************************************************************************
* Private Function Prototypes
*******************************************************************************/


/******************************************************************************
* Public Function Prototypes
*******************************************************************************/


/////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////Definitions/////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////


/******************************************************************************
* Private Function Definitions
*******************************************************************************/



/******************************************************************************
* Public Function Definitions
*******************************************************************************/
err_matrix mult_float_matrix(float_matrix M1, float_matrix M2, float_matrix *P)
{
	float aux_p = 0;

	if (P->rows != M1.rows || P->cols != M2.cols) {
		return mtrx_Error;
	}

	for (int row = 0; row < P->rows; ++row) {
		for (int col = 0; col < P->cols; ++col) {
			aux_p = 0;

			for (int var = 0; var < M1.cols; ++var) {
				aux_p = aux_p + (*(M1.mdir + row * M1.cols + var)) * (*(M2.mdir + var * M2.cols + col));
//				aux_p = aux_p + M1.mdir[row][var] * M2.mdir[var][col];
			}

			*(P->mdir + row * P->cols + col) = aux_p;
		}
	}
	
	return mtrx_Ok;
}




/////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////
/*************** END OF FUNCTIONS *********************************************/
