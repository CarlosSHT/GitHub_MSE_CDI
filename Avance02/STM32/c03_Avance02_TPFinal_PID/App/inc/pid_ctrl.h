/******************************************************************************
* Title                 :   ------
* Filename              :   pid_ctrl.h
* Author                :   Carlos Herrera Trujillo
* Origin Date           :   Jun 10, 2024
* Version               :   x.0.0
* Compiler              :   ------
* Target                :   STM32XXX
* Notes                 :   
*******************************************************************************/


/******************************************************************************
* Define to Prevent Recursive Inclusion
*******************************************************************************/
#ifndef INC_PID_CTRL_H_
#define INC_PID_CTRL_H_

#ifdef __cplusplus
extern "C" {
#endif


/******************************************************************************
* Private Preprocessor Constants
*******************************************************************************/


/******************************************************************************
* Private Includes
*******************************************************************************/


/******************************************************************************
* Public defines
*******************************************************************************/


/******************************************************************************
* Exported Typedefs
*******************************************************************************/

typedef struct {
   float Kp;
   float Ki;
   float Kd;
   float h;
   float N;
   float b;
} pidConfig_t;

typedef struct {
   float pastD;
   float pastY;
   float futureI;
} pidState_t;

/******************************************************************************
* Exported constants
*******************************************************************************/

	
/******************************************************************************
* Exported macro
*******************************************************************************/


/******************************************************************************
* Exported functions prototypes
*******************************************************************************/

void pidInit( pidConfig_t* config, pidState_t* state );
float pidControl( pidConfig_t* config, pidState_t* state, float y, float r );

/*******************************************************************************/
#ifdef __cplusplus
}
#endif

#endif /* INC_PID_CTRL_H_ */

/*** End of File **************************************************************/
